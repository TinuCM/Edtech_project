{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TinuCMathew%28G10XIND%29/OneDrive%20-%20G10X%20Technology%20Private%20Limited/Desktop/edtech%20v1/client/src/components/common/Login.js"],"sourcesContent":["import { Box, Container, Typography, TextField, Button } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Cookies } from \"react-cookie\";\r\n\r\nconst cookies = new Cookies();\r\n//parent login component\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [showOtp, setShowOtp] = useState(false);\r\n\r\n  const sendOtp = async () => {\r\n    console.log(email);\r\n    const response = await axios.post(\"api/v1/parent/login\", { email });\r\n    console.log(response.data);\r\n    if (response.status === 200) {\r\n      setShowOtp(true);\r\n    }\r\n  };\r\n//parent verify\r\n  const verifyOtp = async () => {\r\n    const response = await axios.post(\"/api/v1/verify/parent\", {\r\n      email,\r\n      otp,\r\n    });\r\n    console.log(response.data);\r\n    if (response.status === 200) {\r\n      setShowOtp(false);\r\n    //   console.log(\"response.data.token:\", response.data.token);\r\n      cookies.set(\"token\", response.data.token);\r\n      //   cookies.set(\"user\", JSON.stringify(response.data.user));\r\n      console.log(\"Login successful, token stored in cookies.\");\r\n      // window.location.href = \"/\";\r\n    }\r\n    else if (response.status === 400) {\r\n      console.log(\"OTP verification failed.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ paddingTop: \"100px\" }}>\r\n      <Container maxWidth=\"sm\">\r\n        <Typography variant=\"h1\">Login</Typography>\r\n        <br />\r\n        <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\r\n          {showOtp ? (\r\n            <>\r\n              <TextField\r\n                label=\"Enter OTP\"\r\n                onChange={(event) => {\r\n                  setOtp(event.target.value);\r\n                }}\r\n                value={otp}\r\n              />\r\n              <Button variant=\"contained\" onClick={verifyOtp}>\r\n                Login\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <TextField\r\n                label=\"Email\"\r\n                onChange={(event) => {\r\n                  setEmail(event.target.value);\r\n                }}\r\n                value={email}\r\n              />\r\n              <Button variant=\"contained\" onClick={sendOtp} hidden={true}>\r\n                Send OTP\r\n              </Button>\r\n            </>\r\n          )}\r\n        </Box>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEA,MAAM,UAAU,IAAI,yIAAO;AAC3B,wBAAwB;AACxB,MAAM,QAAQ;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,+GAAQ,EAAC;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,UAAU;QACd,QAAQ,GAAG,CAAC;QACZ,MAAM,WAAW,MAAM,qHAAK,CAAC,IAAI,CAAC,uBAAuB;YAAE;QAAM;QACjE,QAAQ,GAAG,CAAC,SAAS,IAAI;QACzB,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,WAAW;QACb;IACF;IACF,eAAe;IACb,MAAM,YAAY;QAChB,MAAM,WAAW,MAAM,qHAAK,CAAC,IAAI,CAAC,yBAAyB;YACzD;YACA;QACF;QACA,QAAQ,GAAG,CAAC,SAAS,IAAI;QACzB,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,WAAW;YACb,8DAA8D;YAC5D,QAAQ,GAAG,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;YACxC,6DAA6D;YAC7D,QAAQ,GAAG,CAAC;QACZ,8BAA8B;QAChC,OACK,IAAI,SAAS,MAAM,KAAK,KAAK;YAChC,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,qBACE,qKAAC,iRAAG;QAAC,IAAI;YAAE,YAAY;QAAQ;kBAC7B,cAAA,qKAAC,ySAAS;YAAC,UAAS;;8BAClB,qKAAC,6SAAU;oBAAC,SAAQ;8BAAK;;;;;;8BACzB,qKAAC;;;;;8BACD,qKAAC,iRAAG;oBAAC,IAAI;wBAAE,SAAS;wBAAQ,eAAe;wBAAU,KAAK;oBAAE;8BACzD,wBACC;;0CACE,qKAAC,ySAAS;gCACR,OAAM;gCACN,UAAU,CAAC;oCACT,OAAO,MAAM,MAAM,CAAC,KAAK;gCAC3B;gCACA,OAAO;;;;;;0CAET,qKAAC,6RAAM;gCAAC,SAAQ;gCAAY,SAAS;0CAAW;;;;;;;qDAKlD;;0CACE,qKAAC,ySAAS;gCACR,OAAM;gCACN,UAAU,CAAC;oCACT,SAAS,MAAM,MAAM,CAAC,KAAK;gCAC7B;gCACA,OAAO;;;;;;0CAET,qKAAC,6RAAM;gCAAC,SAAQ;gCAAY,SAAS;gCAAS,QAAQ;0CAAM;;;;;;;;;;;;;;;;;;;;;;;;AAS1E;uCAEe"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TinuCMathew%28G10XIND%29/OneDrive%20-%20G10X%20Technology%20Private%20Limited/Desktop/edtech%20v1/client/src/pages/login.js"],"sourcesContent":["import Head from \"next/head\";\r\nimport { CssBaseline } from \"@mui/material\";\r\n\r\n// import { useEffect } from \"react\";\r\n\r\nimport Login from \"../components/common/Login\";\r\n\r\n\r\nexport default function LoginPage() {\r\n\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Login</title>\r\n        <meta name=\"description\" content=\"\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n        <link rel=\"icon\" href=\"/favicon.ico\" />\r\n      </Head>\r\n\r\n        <CssBaseline />\r\n        <Login />\r\n\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA,qCAAqC;AAErC;;;;;;;;;AAGe,SAAS;IAGtB,qBACE;;0BACE,qKAAC,yNAAI;;kCACH,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBAAK,MAAK;wBAAc,SAAQ;;;;;;kCACjC,qKAAC;wBAAK,MAAK;wBAAW,SAAQ;;;;;;kCAC9B,qKAAC;wBAAK,KAAI;wBAAO,MAAK;;;;;;;;;;;;0BAGtB,qKAAC,iTAAW;;;;;0BACZ,qKAAC,iOAAK;;;;;;;AAId"}}]
}